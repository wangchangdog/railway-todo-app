# 問題

この Railway の最後は、レスポンシブに対応させていきましょう。

レスポンシブ対応ができるようになると、ユーザーが閲覧するデバイスのサイズに応じてページのデザインやレイアウトを最適化して表示させることができるようになるので、
ユーザーにとって様々なシーンで使いやすいサービスとなります。

様々なデバイスサイズのレイアウトでも崩れないように実装しましょう。

デスクトップ画面の時は、サイドバーが存在していますが、モバイルデバイスの場合表示領域が限られていることから、モバイルデバイスで表示する場合、ハンバーガーメニューでの表示となるよう実装してみましょう。

確認テスト
レスポンシブ対応の実装をする。
- モバイルデバイスの場合は、サイドバーをハンバーガーメニューに格納しましょう。
面談準備と面談予約をする。
クリア判定面談を実施し、メンターから OK をもらう。
参考資料
レスポンシブデザイン
メディアクエリー
クリア条件
1
レスポンシブ対応ができていること
2
サイドメニューはモバイルデバイス表示幅の場合、ハンバーガーメニューとなること

---

# 仕様書: レスポンシブ対応実装

## 1. 概要
Railway Todo Appにレスポンシブデザインを実装し、デスクトップ・タブレット・モバイルデバイスすべてで最適なユーザー体験を提供します。

## 2. 機能要件

### 2.1 レスポンシブ対応範囲
- **デスクトップ**: 1024px以上
- **タブレット**: 768px〜1023px
- **モバイル**: 767px以下

### 2.2 デバイス別レイアウト仕様

#### 2.2.1 デスクトップ表示（1024px以上）
- サイドバー常時表示
- メインコンテンツエリアと2カラムレイアウト
- 既存のレイアウトを維持

#### 2.2.2 タブレット表示（768px〜1023px）
- サイドバー幅を調整
- コンテンツエリアの適切な配置
- タッチ操作を考慮したボタンサイズ

#### 2.2.3 モバイル表示（767px以下）
- サイドバーをハンバーガーメニューに変更
- 1カラムレイアウト
- タッチ操作に最適化されたUI

### 2.3 ハンバーガーメニュー仕様
- **表示条件**: 767px以下
- **メニューアイコン**: 3本線のハンバーガーアイコン
- **開閉アニメーション**: スライドイン・スライドアウト効果
- **背景オーバーレイ**: メニュー表示時は背景を半透明でオーバーレイ
- **メニュー外クリック**: メニューを閉じる
- **Escキー**: メニューを閉じる

## 3. 技術仕様

### 3.1 CSSメディアクエリ
```css
/* デスクトップ */
@media (min-width: 1024px) {
  /* デスクトップ用スタイル */
}

/* タブレット */
@media (min-width: 768px) and (max-width: 1023px) {
  /* タブレット用スタイル */
}

/* モバイル */
@media (max-width: 767px) {
  /* モバイル用スタイル */
}
```

### 3.2 レスポンシブデザイン原則
- **Mobile First**: モバイル優先のCSS設計
- **Flexible Grid**: フレキシブルなグリッドシステム
- **Flexible Images**: 画像の適切なサイズ調整
- **Touch Friendly**: タッチ操作に適したUI要素サイズ（最小44px）

### 3.3 実装対象ファイル
```
src/components/Sidebar/Sidebar.jsx (修正)
src/components/Sidebar/Sidebar.css (修正)
src/components/HamburgerMenu/HamburgerMenu.jsx (新規作成)
src/components/HamburgerMenu/HamburgerMenu.css (新規作成)
src/components/Layout/Layout.jsx (修正)
src/components/Layout/Layout.css (修正)
src/pages/*/index.css (各ページのレスポンシブ対応)
```

## 4. 実装手順

### 4.1 Phase 1: 基本レスポンシブ対応
1. 既存CSSファイルにメディアクエリを追加
2. グリッドシステムの調整
3. フォントサイズ・余白の調整
4. ボタン・フォーム要素のタッチ対応

### 4.2 Phase 2: ハンバーガーメニュー実装
1. HamburgerMenuコンポーネントの作成
2. メニューアイコンの実装
3. サイドバーの表示・非表示制御
4. アニメーション効果の実装

### 4.3 Phase 3: レイアウト調整
1. Layoutコンポーネントの修正
2. サイドバーとメインコンテンツの配置調整
3. モバイル時のナビゲーション調整

### 4.4 Phase 4: 各ページの最適化
1. リスト一覧ページの調整
2. タスク一覧ページの調整
3. 作成・編集フォームの調整
4. モーダルのレスポンシブ対応

### 4.5 Phase 5: テスト・検証
1. 各デバイスサイズでの動作確認
2. タッチ操作の確認
3. パフォーマンス最適化

## 5. UI/UX設計

### 5.1 ハンバーガーメニュー設計
- **位置**: 左上角
- **サイズ**: 44px × 44px（タッチ領域）
- **アイコン**: 3本線（各線の高さ2px、間隔4px）
- **色**: プライマリカラー

### 5.2 サイドバーメニュー設計
- **幅**: 280px（モバイル時）
- **背景色**: 白
- **シャドウ**: 右側にドロップシャドウ
- **アニメーション**: 0.3秒のスライド効果

### 5.3 タッチ対応要素
- **最小タッチ領域**: 44px × 44px
- **ボタン間隔**: 最小8px
- **フォーム要素**: 高さ48px以上

## 6. アクセシビリティ対応

### 6.1 ARIA属性
- `aria-label`: ハンバーガーメニューボタン
- `aria-expanded`: メニューの開閉状態
- `aria-controls`: 制御対象のメニュー要素
- `role="button"`: ボタンロール

### 6.2 キーボード操作
- **Tab**: フォーカス移動
- **Enter/Space**: ハンバーガーメニュー開閉
- **Escape**: メニューを閉じる

### 6.3 スクリーンリーダー対応
- 適切なフォーカス順序
- 状態変更の通知
- 意味のあるラベル付け

## 7. パフォーマンス考慮事項

### 7.1 CSS最適化
- メディアクエリの効率的な記述
- 不要なCSSの削除
- CSSの圧縮

### 7.2 JavaScript最適化
- イベントリスナーの適切な管理
- リサイズイベントの最適化
- メモリリークの防止

### 7.3 画像最適化
- レスポンシブ画像の実装
- 適切なファイル形式の選択
- 画像の遅延読み込み

## 8. テスト仕様

### 8.1 デバイステスト
- **実機テスト**: iPhone, Android, タブレット
- **ブラウザテスト**: Chrome, Safari, Firefox
- **画面サイズテスト**: 320px〜1920px

### 8.2 機能テスト
- ハンバーガーメニューの開閉
- レスポンシブレイアウトの確認
- タッチ操作の動作
- キーボード操作の動作

### 8.3 パフォーマンステスト
- 表示速度の測定
- メモリ使用量の確認
- CPU使用率の確認

## 9. 成果物

### 9.1 実装ファイル
- 修正されたコンポーネントファイル
- 新規作成されたハンバーガーメニューコンポーネント
- レスポンシブ対応CSSファイル

### 9.2 テスト結果
- 各デバイスでの動作確認スクリーンショット
- パフォーマンステスト結果
- アクセシビリティチェック結果

### 9.3 ドキュメント
- レスポンシブ対応実装ガイド
- 今後の保守に関する注意事項

## 10. 完了基準

### 10.1 機能要件
- [ ] デスクトップ表示が適切に動作する
- [ ] タブレット表示が適切に動作する
- [ ] モバイル表示でハンバーガーメニューが動作する
- [ ] 各デバイスサイズでレイアウトが崩れない
- [ ] タッチ操作が適切に動作する

### 10.2 品質要件
- [ ] 全ページでレスポンシブ対応が完了している
- [ ] アクセシビリティ要件を満たしている
- [ ] パフォーマンス要件を満たしている
- [ ] 各ブラウザで正常に動作する

### 10.3 テスト要件
- [ ] 実機テストが完了している
- [ ] 自動テストが全て成功している
- [ ] lint, prettier, typecheck, test, build, playwrightが全て成功する

## 11. 今後の拡張性

### 11.1 デザインシステム
- 統一されたブレークポイント
- 再利用可能なレスポンシブコンポーネント
- 一貫したスペーシングシステム

### 11.2 プログレッシブ Web App対応
- PWA機能の実装準備
- オフライン対応の検討
- アプリライクなUI/UXの実装

### 11.3 ダークモード対応
- レスポンシブ + ダークモードの組み合わせ
- デバイス設定の検出
- 切り替え機能の実装

